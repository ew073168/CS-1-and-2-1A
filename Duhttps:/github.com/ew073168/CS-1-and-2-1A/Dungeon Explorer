#introducing the game
print("Dungeon Explorer")
print()

#importing stuff
import random

import time as tm

#defining the function
def game():

  #defining variables used
  inventory = []
  money = 0

  while(True):
    #direction to go
    direction = input("Which direction do you choose to go? (n,s,e,w,i) ")
    tm.sleep(1)
    print()

    def gameover():
      print("Game Over")
      print()
      tm.sleep(1)
      print("Final Inventory: ", end = " ")
      for item in inventory:
        print(item, end = " ")
      print()
      print()
      tm.sleep(1)
      print("Final Money: ", money)

    def bag():
      print("You found a bag of money.")
      print()
      tm.sleep(1)
      grab = input("Do you want to find out how much it is? ")
      print()
      if(grab == "y" or grab == "Y"):
        poison = random.randrange(50)
        if(poison == 0):
          print("You open the bag of money, but it is actually full of poison.")
          print()
          tm.sleep(1)
          print("You died.")
          print()
          tm.sleep(1)
          gameover()
        else:
          coin = random.randrange(250)
          print("You open the money bag and find ", coin, " coins inside.")
          print()
          tm.sleep(1)
          print("You add them to your inventory.")
          print()
          tm.sleep(1)
          money = money + coin
          print(money)
          

    #what happens if the direction is north
    if(direction == "n" or direction == "N"):
      print("Traveling north...")
      tm.sleep(1)
      print()
      find1 = random.randrange(30)

      #things you can randomly find
      if(find1 == 0 or find1 == 1):
        print("You found a sword.")
        print()
        tm.sleep(1)
        grab = input("Do you want to add it to your inventory? y/n ")
        print()

        if(grab == "y" or grab == "Y"):
          inventory.append("Sword")
          tm.sleep(1)
          print("Inventory: ", end = " ")
          for item in inventory:
            print(item, end = " ")
          print()

        else:
          print("You leave the sword there.")

      elif(find1 == 2 or find1 == 3 or find1 == 4):
        print("You found a bag of money.")
        tm.sleep(1)
        print()
        grab = input("Do you want to find out how much money it is? y/n ")
        print()
        tm.sleep(1)

        if(grab == "y" or grab == "Y"):
          coin = random.randrange(100)
          print("You find ", coin, " coins in the bag and add it to your money.")
          money = money + coin
          print()
          tm.sleep(1)
          print("Money: ", money)
          print()
          tm.sleep(1)

        else:
          print("You leave the bag of money there.")

      elif(find1 == 5 or find1 == 6):
        print("You leave the dungeon.")
        print()
        tm.sleep(1)
        gameover()
        break

      elif(find1 == 7 or find1 == 8):
        print("You find a goblin.")
        print()
        tm.sleep(1)
        fight = input("Would you like to fight it? y/n ")
        print()

        if(fight == "Y" or fight == "y"):

          if("Sword" in inventory):
            broken = random.randrange(5)

            if(broken == 0):
              print("You kill the goblin with your sword, but in the process, your sword breaks.")
              inventory.remove("Sword")
              print("Inventory: ", end = " ")
              for item in inventory:
                print(item, end = " ")

            elif(broken == 1):
              print("You try to kill the goblin with your sword, but it also has a sword and turns ar ound and kills you.")
              print()
              tm.sleep(1)
              gameover()
              break 

            else:
              print("You kill the goblin with your sword.")
              print()
              tm.sleep(1)

          elif("Sword" not in inventory):
            print("You try to kill the goblin, but you don't have a sword.")
            print()
            tm.sleep(1)
            print("The goblin kills you.")
            print()
            tm.sleep(1)
            print("Game Over")
            print()
            tm.sleep(1)
            print("Final Inventory: ", end = " ")
            for item in inventory:
              print(item,end = " ")
            print()
            tm.sleep(1)
            print("Final Money: ", money)
            break

        else:
          print("You run from the goblin, fearing he will kill you.")
          print()
          tm.sleep(1)

      #what happens if you go south
    elif(direction == "s" or direction == "S"):
      print("Traveling south...")
      print()
      tm.sleep(1)
      find2 = random.randrange(30)

      if(find2 == 0 or find2 == 1):
        coin = random.randrange(150)
        print("You found a bag of money.")     
        print()
        tm.sleep(1)
        grab = input("Do you want to find out how much money it is? y/n ")
        print()

        if(grab == "y" or grab == "Y"):
          print("You find ", coin, " coins in the bag and add it to your money.")
          print()
          money = money + coin       
          print("Money: ", money)
          print()
          
        elif(grab == "n" or grab == "N"):
          print("You leave the bag of coins there.")


game()
